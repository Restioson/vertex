@define-color content_bg_color #343434;
@define-color sidebar_bg_color #303030;
@define-color toolbar_bg_color #3D3D3D;
@define-color lower_bar_bg_color #2D2D2D;

@define-color dialog_bg_color #313131;

@define-color room_list_bg_color #2A2A2A;
@define-color room_hover_color #323232;
@define-color room_selected_color #383838;

@define-color message_entry_color #343434;

@define-color widget_bg_color #3d3d3d;
@define-color widget_color #dadada;

@define-color error_color #d15c4f;

@define-color accent_color #8fa876;

@define-color subtitle_color #a0a0a0;

/* general styling */

* {
  all: unset;
}

viewport {
  background: @content_bg_color;
}

entry {
  background: @widget_bg_color;
  color: @widget_color;
  caret-color: currentColor;

  padding: 5px 8px;
  border-radius: 10px;

  transition: all 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

entry:focus {
  background: shade(@widget_bg_color, 1.2);
}

entry selection, textview selection, label selection {
  color: #ffffff;
  background: @accent_color;
}

expander arrow {
  min-width: 16px;
  min-height: 16px;
  -gtk-icon-source: image(-gtk-recolor(url("feather/chevron-right.svg")));
}

expander arrow:checked {
  -gtk-icon-transform: rotate(90deg);
}

button {
  background: @widget_bg_color;
  color: @widget_color;

  padding: 5px 8px;
  border-radius: 10px;

  transition: all 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

button:hover {
  background: shade(@widget_bg_color, 1.2);
}

button.flat {
  background: transparent;
}

button.flat:hover {
  background: @widget_bg_color;
}

list row {
  background: @sidebar_bg_color;
}

list row:hover {
  background: shade(@sidebar_bg_color, 1.1);
}

list row:selected {
  background: shade(@sidebar_bg_color, 1.3);
}

separator {
  background: shade(@sidebar_bg_color, 0.9);
  min-height: 2px;
}

@keyframes spin {
  to {
    -gtk-icon-transform: rotate(1turn);
  }
}

spinner {
  background-image: none;
  opacity: 0;
  -gtk-icon-source: -gtk-icontheme("process-working-symbolic");
}

spinner:checked {
  opacity: 1;
  animation: spin 0.5s linear infinite;
}

* {
  -GtkScrollbar-has-backward-stepper: false;
  -GtkScrollbar-has-forward-stepper: false;
}

scrollbar {
  transition: 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
scrollbar slider {
  min-width: 6px;
  min-height: 6px;
  margin: -1px;
  border: 4px solid transparent;
  border-radius: 8px;
  background-clip: padding-box;
  background-color: @room_list_bg_color;
}
scrollbar slider:hover {
  background-color: shade(@room_list_bg_color, 1.1);
}
scrollbar slider:hover:active {
  background-color: shade(@room_list_bg_color, 1.1);
}

popover {
  background: @dialog_bg_color;
  padding: 10px;
  border-radius: 10px;
  box-shadow: 0 2px 6px 1px rgba(0, 0, 0, 0.35);
}

#dialog_bg {
  background-color: rgba(0, 0, 0, 0.4);
}

.dialog {
  background: @dialog_bg_color;
  min-width: 100px;
  min-height: 100px;
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.5);
}

.dialog #title {
  font-size: 16px;
}

#dialog button, #dialog entry {
  padding: 8px;
  margin: 4px;
}

/* specific styling */

/*
  active screen
*/

#active #toolbar {
  background: @toolbar_bg_color;
  min-height: 30px;
}

#active #sidebar {
  padding-top: 4px;
  min-width: 260px;
}

#active #sidebar, #communities {
  background: @sidebar_bg_color;
}

#active #add_community_button {
  background: transparent;
  border-style: solid;
  border-color: @widget_bg_color;
  border-width: 3px;
  margin: 10px;
  padding: 6px;
  border-radius: 20px;
}

#active #add_community_button:hover {
  background: @widget_bg_color;
}

#active #sidebar_lower_bar {
  background: @lower_bar_bg_color;
}

#active #chat {
  background: @sidebar_bg_color;
  min-height: 26px;
}

#active #chat #chat_header {
  background: @sidebar_bg_color;
  min-height: 26px;
}

#active #chat #room_name {
  font-size: 14px;
  padding-left: 8px;
}

#active #chat #lower_bar {
  background: @lower_bar_bg_color;
}

#active #messages {
  background: @content_bg_color;
  padding: 6px;
}

#active #messages row, #active #message row:hover {
  background: @content_bg_color;
}

#active #message_entry {
  background: @message_entry_color;
  margin: 7px 4px;
  border-radius: 10px;
}

#active #message_entry.disabled {
  background: shade(@message_entry_color, 0.95);
}

#active #message_entry.disabled selection {
  color: transparent;
  background: transparent;
}

#active #message .embed {
  background: @sidebar_bg_color;
  min-width: 320px;
  padding: 6px;
  margin: 4px;
  border-radius: 10px;
}

#active #message #invite #community_header {
  padding: 4px;
}

#active #message #invite #label {
  color: @subtitle_color;
  font-size: 12px;
}

#active #message #invite #community_icon {
  min-width: 40px;
  min-height: 40px;

  background-image: url('icon.png');
  background-size: 40px;

  border-radius: 20px;
}

#active #message #invite #community_icon border {
  border-style: none;
}

#active #message #invite #community_name {
  color: #d0d0d0;
  font-size: 15px;
  font-weight: 600;
}

#active #message #invite #community_description {
  color: @subtitle_color;
  font-size: 12px;
  font-style: italic;
}

#active #message #invite #join_button {
  min-width: 60px;
  min-height: 10px;
  background: transparent;
  border-style: solid;
  border-color: @widget_bg_color;
  border-width: 3px;
  padding: 6px;
  border-radius: 20px;
}

#active #message #invite #join_button:hover {
  background: @widget_bg_color;
}

#active #message #opengraph #title {
  color: #d0d0d0;
  font-size: 14px;
  font-weight: 600;
}

#active #message #opengraph #description {
  color: @subtitle_color;
  font-size: 12px;
  font-style: italic;
}

.no_hover *:hover {
  background: inherit;
  transition: none;
}

#active #sidebar #community_expander {
  margin: 4px 0px;
}

#active #sidebar #community_expander arrow {
  -gtk-icon-source: none;
  min-width: 0px;
  min-height: 0px;
}

#active #sidebar #community_header {
  margin: 4px;
}

#active #sidebar #community_icon {
  min-width: 40px;
  min-height: 40px;

  background-image: url('icon.png');
  background-size: 40px;

  border-radius: 20px;
}

#active #sidebar #community_icon border {
  border-style: none;
}

#active #sidebar #community_header #community_name {
  color: #d0d0d0;
  font-size: 15px;
  font-weight: 600;
}

#active #sidebar #community_header #community_description_box {
  color: @subtitle_color;
  font-size: 12px;
  font-style: italic;
}

#active #sidebar #room_list {
  background: @room_list_bg_color;
  padding: 6px 0px;
  margin-top: 4px;
}

#active #sidebar #room_list row {
  background: @room_list_bg_color;
  border-radius: 6px;
  margin: 0px 4px;
  margin-left: 40px;
  margin-right: 10px;
}

#active #sidebar #room_list row:hover {
  background: shade(@room_list_bg_color, 1.1);
}

#active #sidebar #room_list row:selected {
  background: shade(@room_list_bg_color, 1.3);
}

#active #room_label {
  color: #d0d0d0;
  font-size: 14px;
  font-weight: 500;
  padding-left: 4px;
}

#community_menu button {
  padding: 6px;
  border-radius: 12px;
}

#community_menu button label {
  margin-left: 8px;
}

#active #message_group {
  padding: 4px;
}

#active #message_group #author_name {
  font-size: 14px;
  font-weight: 600;
  padding-left: 2px;
}

#active #message_group #timestamp {
  font-size: 11px;
  font-style: italic;
  color: grey;
  padding-left: 5px;
}

#active #message_group #author_icon {
  min-width: 40px;
  min-height: 40px;

  background-image: url('icon.png');
  background-size: 40px;

  border-radius: 20px;
}

#active #entry_list row {
  padding: 2px;
  border-radius: 6px;
}

#active #entry_list row:hover {
  background: shade(@content_bg_color, 0.9);
}

#active #message #message_text {
  color: #e0e0e0;
}

#active #message #message_text.pending {
  color: @subtitle_color;
}

#active #message #message_text.error {
  color: @error_color;
}

#active #toolbar #settings_button {
  background: @toolbar_bg_color;
  margin: 4px;
  padding: 4px;
  border-radius: 8px;
}

#active #toolbar #settings_button:hover {
  background: shade(@toolbar_bg_color, 1.2);
}

#add_community {
  min-width: 180px;
  min-height: 100px;
}

#add_community button {
  min-width: 80px;
  min-height: 40px;
  margin: 10px;
}

#create_community, #join_community, #invite_community, #create_room {
  min-width: 180px;
  min-height: 100px;
}

#create_community button, #create_community entry, #create_room button, #create_room entry {
  padding: 8px;
  margin: 4px;
}

#join_community button, #join_community entry {
  padding: 8px;
  margin: 4px;
}

#invite_community textview {
  background: @widget_bg_color;
  padding: 8px;
  border-radius: 8px;
  margin: 4px;
}

#error_dialog #description {
  color: @error_color;
}

/*
  login & register screen
*/

#login, #register {
  background: shade(@content_bg_color, 0.85);
}

#login frame, #register frame {
  background: @content_bg_color;
  min-width: 300px;
  min-height: 300px;
  padding: 40px;
  border-radius: 20px;
}

#login #title, #register #title {
  font-size: 16px;
}

#login #error_label, #register #error_label {
  color: @error_color;
  font-weight: 500;
}

#login .link, #register .link {
  color: #45a0d9;
  text-decoration-line: underline;
}

#login entry, #register entry {
  min-height: 26px;
}

#login button, #register button {
  min-height: 26px;
}

/*
  settings screen
*/

#settings #category_list {
  min-width: 228px;
  background: @sidebar_bg_color;
  padding: 16px;
}

#settings #category_list row {
  padding: 8px;
  border-radius: 10px;
}

#settings #category_list row label {
  padding-left: 4px;
  font-size: 14px;
}

#settings #log_out label {
  color: @error_color;
  font-weight: 600;
}

#settings #close label {
  font-weight: 600;
}

/*
  loading screen
*/

#loading label {
  font-size: 16px;
}

#loading spinner {
  min-width: 25px;
  min-height: 25px;
}

/*
  loading error screen
*/

#loading_error #title {
  font-size: 18px;
  font-weight: 500;
}

#loading_error #error_label {
  font-size: 16px;
  color: @error_color;
  padding-bottom: 20px;
}

#loading_error button {
  min-height: 20px;
  padding: 8px;
  margin: 4px;
}

/*
  generic error screen
*/

#error_dialog #title {
  font-size: 18px;
  font-weight: 500;
}

#error_dialog #error_label {
  font-size: 16px;
  color: @error_color;
  padding-bottom: 20px;
}

#error_dialog #ok_button {
  min-height: 20px;
  padding: 8px;
  margin: 4px;
}

#error_dialog #flavour_text {
  font-size: 14px;
  font-style: italic;
  color: @subtitle_color;
}
